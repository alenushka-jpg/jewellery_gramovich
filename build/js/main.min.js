var body=document.querySelector(".body"),loginButtons=document.querySelectorAll(".js-open-login"),loginModal=document.querySelector(".login-modal"),closeLogin=document.querySelector(".js-close-login"),name=document.querySelector("[name=email-name]"),overlay=document.querySelectorAll(".overlay"),header=document.querySelector(".page-header"),burger=document.querySelector(".page-header__burger"),navigationPopup=document.querySelector(".page-header__popup"),filter=document.querySelector(".filter"),filterButton=document.querySelector(".filter__button"),filterClose=document.querySelector(".filter__button-close"),filterOverlay=document.querySelector(".filter__overlay"),questionsButtons=document.querySelectorAll(".js-questions-button"),filterButtons=document.querySelectorAll(".filter__accordion-button"),emailLogin=document.querySelector(".js-email-login"),passwordLogin=document.querySelector(".js-email-password"),resultModal=document.querySelector(".js-result-modal"),submitbutton=document.querySelector(".js-login-submit"),bodyMain=document.querySelector(".body__main"),links=bodyMain.querySelectorAll("a"),inputs=bodyMain.querySelectorAll("input"),buttons=bodyMain.querySelectorAll("button"),labels=bodyMain.querySelectorAll("label"),pageFooter=document.querySelector(".page-footer"),linksFooter=pageFooter.querySelectorAll("a"),buttonFooter=pageFooter.querySelector("button"),inputFooter=pageFooter.querySelector("input"),breadcrumbs=document.querySelector(".catalog__slider");if(breadcrumbs)var buttonsBread=breadcrumbs.querySelectorAll("button");function setBlur(e){e.forEach((function(e){e.setAttribute("tabindex","-1")}))}function removeBlur(e){e.forEach((function(e){e.removeAttribute("tabindex")}))}function showLoginModal(){loginModal.classList.add("login-modal--open"),name.focus(),setBlur(links),setBlur(inputs),setBlur(buttons),setBlur(labels)}function closeLoginModal(){loginModal.classList.remove("login-modal--open"),removeBlur(links),removeBlur(inputs),removeBlur(buttons),removeBlur(labels)}function onOpenClick(){showLoginModal(),"login-modal--open"!==loginModal&&window.outerWidth>=1023&&bodyHidden()}function validation(e,o){var t=!0;return 0===e.trim()||!0===o?t=!1:submitbutton.addEventListener("click",showQuestionsResult),t}function showQuestionsResult(){resultModal.style.display="flex"}function localStorageData(e){localStorage.setItem("email",e.userEmail)}function onSubmitModalForm(e){e.preventDefault();var o=emailLogin.value;validation(o,passwordLogin.value)&&(resultModal.style.display="flex",localStorageData({userEmail:o}))}function bodyHidden(){body.classList.add("body--hidden")}function bodyVisible(){body.classList.remove("body--hidden")}function onCloseClick(){"login-modal--open"!==loginModal&&window.outerWidth>=1023&&bodyVisible(),closeLoginModal()}function onCloseClickMobile(){closeLoginModal(),"page-header__popup--open"!==navigationPopup&&"login-modal--open"!==loginModal&&bodyHidden()}loginModal&&loginModal.addEventListener("submit",onSubmitModalForm);for(var i=0;i<loginButtons.length;i++){var element=loginButtons[i];element.addEventListener("click",(function(){onOpenClick()}))}function showNavigation(){navigationPopup.classList.toggle("page-header__popup--open")}function showHeader(){header.classList.toggle("page-header--open")}function bodyHiddenMobile(){"body"!==body&&body.classList.toggle("body--hidden")}function onClickToggle(){showNavigation(),showHeader(),bodyHiddenMobile()}function showOverlay(){filter&&filter.classList.add("filter--open")}function hiddenShowOverlay(){filter&&filter.classList.remove("filter--open")}function showFilter(){filterOverlay.classList.add("filter__overlay--open"),setBlur(buttonsBread),setBlur(linksFooter),buttonFooter.setAttribute("tabindex","-1"),inputFooter.setAttribute("tabindex","-1")}function closeFilter(){filterOverlay&&(filterOverlay.classList.remove("filter__overlay--open"),removeBlur(buttonsBread),removeBlur(linksFooter),buttonFooter.removeAttribute("tabindex"),inputFooter.removeAttribute("tabindex"))}function onClickFilter(){showFilter(),bodyHidden(),showOverlay()}function onClickCloseFilter(){closeFilter(),bodyVisible(),hiddenShowOverlay()}closeLogin&&closeLogin.addEventListener("click",onCloseClick),burger.addEventListener("click",onClickToggle),window.addEventListener("keydown",(function(e){"Escape"===e.key&&onCloseClick()})),overlay.forEach((function(e){e.addEventListener("click",(function(){onCloseClickMobile(),onCloseClick(),onClickCloseFilter()}))})),questionsButtons.forEach((function(e){e.addEventListener("click",(function(){e.parentNode.classList.toggle("questions__item--open")}))})),filterButtons.forEach((function(e){e.addEventListener("click",(function(){var o=e.nextElementSibling,t=e.lastElementChild;o.classList.toggle("filter__accordion--active"),t.classList.toggle("filter__svg--active")}))})),filterButton&&filterButton.addEventListener("click",onClickFilter),filterClose&&filterClose.addEventListener("click",onClickCloseFilter),window.addEventListener("keydown",(function(e){"Escape"===e.key&&onClickCloseFilter()}));var catalogSwiper=document.querySelector(".new-jewelery__catalog"),breakpoint=window.matchMedia("(min-width: 768px)");let swiper;var initSwiper=()=>{swiper&&swiper.destroy(!0,!0),swiper=breakpoint.matches?new Swiper(catalogSwiper,{loop:!0,slidesPerView:"auto",slidesPerGroup:4,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(e,o){return'<span class="'+o+'">'+(e+1)+"</span>"}}}):new Swiper(catalogSwiper,{slidesPerView:"auto",slidesPerGroup:2,pagination:{el:".swiper-pagination",type:"fraction"}})};const initAdvantagesSlider=()=>{catalogSwiper&&(breakpoint.addListener(initSwiper),initSwiper())};window.addEventListener("DOMContentLoaded",(()=>{catalogSwiper&&(breakpoint.addListener(initSwiper),initSwiper())}));